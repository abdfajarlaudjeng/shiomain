<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Angka 5D - Ekor ON</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-hover {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .ekor-active {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }
        .main-active-1 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .main-active-2 {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }
        .main-active-3 {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            color: white;
        }
        .shio-active {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        .number-5d {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            color: #333;
            font-weight: bold;
            border: 2px solid #e91e63;
        }
        .animate-bounce-custom {
            animation: bounce 1s infinite;
        }
        .pulse-ring {
            animation: pulse-ring 1.5s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
        }
        @keyframes pulse-ring {
            0% {
                transform: scale(0.33);
            }
            80%, 100% {
                transform: scale(1.33);
                opacity: 0;
            }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-6 py-4">
            <h1 class="text-3xl font-bold text-center">üé∞ Generator Angka 5D - Ekor ON</h1>
            <p class="text-center text-white opacity-90 mt-2">Generator lengkap dengan filter canggih untuk angka 5D (00000-99999)</p>
        </div>
    </header>

    <div class="container mx-auto px-6 py-8 max-w-7xl">
        <!-- Input Section -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- Ekor ON Input -->
            <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">üìù Input Ekor ON (5D)</h2>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            Masukkan Ekor ON (1-8 digit)
                        </label>
                        <textarea 
                            id="ekorInput5D" 
                            placeholder="Contoh: 1,2,5,7 atau 1 2 5 7 atau 1257"
                            rows="4"
                            class="w-full border border-gray-300 rounded-lg px-4 py-3 text-lg font-mono focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"
                        ></textarea>
                        <div class="flex justify-between items-center mt-2">
                            <p class="text-xs text-gray-500">
                                Format: pisahkan dengan koma, spasi, atau tulis langsung
                            </p>
                            <span class="text-sm font-medium" id="ekorCount5D">0/8 digit</span>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <button id="clearBtn5D" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors">
                            üóëÔ∏è Clear
                        </button>
                        <button id="sampleBtn5D" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors">
                            üìã Contoh
                        </button>
                    </div>
                </div>
            </div>

            <!-- Ekor Preview -->
            <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">üëÅÔ∏è Preview Ekor ON (5D)</h2>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ekor yang Aktif</label>
                        <div class="grid grid-cols-5 gap-2" id="ekorPreview5D">
                            <div class="bg-gray-100 rounded-lg p-3 text-center text-gray-400">0</div>
                            <div class="bg-gray-100 rounded-lg p-3 text-center text-gray-400">1</div>
                            <div class="bg-gray-100 rounded-lg p-3 text-center text-gray-400">2</div>
                            <div class="bg-gray-100 rounded-lg p-3 text-center text-gray-400">3</div>
                            <div class="bg-gray-100 rounded-lg p-3 text-center text-gray-400">4</div>
                            <div class="bg-gray-100 rounded-lg p-3 text-center text-gray-400">5</div>
                            <div class="bg-gray-100 rounded-lg p-3 text-center text-gray-400">6</div>
                            <div class="bg-gray-100 rounded-lg p-3 text-center text-gray-400">7</div>
                            <div class="bg-gray-100 rounded-lg p-3 text-center text-gray-400">8</div>
                            <div class="bg-gray-100 rounded-lg p-3 text-center text-gray-400">9</div>
                        </div>
                    </div>
                    
                    <div class="bg-purple-50 rounded-lg p-4">
                        <h4 class="font-medium text-purple-800 mb-2">Statistik Ekor</h4>
                        <div class="grid grid-cols-2 gap-4 text-sm">
                            <div>
                                <span class="text-purple-600">Ekor Aktif:</span>
                                <span class="font-bold ml-1" id="activeCount5D">0</span>
                            </div>
                            <div>
                                <span class="text-purple-600">Total 5D:</span>
                                <span class="font-bold ml-1" id="total5D">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Generate Button -->
        <div class="text-center mb-8">
            <button id="generateBtn5D" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-8 py-4 rounded-xl font-semibold text-lg shadow-lg transform transition-all duration-200 hover:scale-105 relative overflow-hidden">
                <span class="relative z-10">üé∞ Generate Angka 5D</span>
                <div class="absolute inset-0 bg-white opacity-20 pulse-ring rounded-xl"></div>
            </button>
        </div>

        <!-- Filter Section -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
            <!-- Filter Angka Main 1 -->
            <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">üéØ Filter Angka Main 1</h3>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Pilih Angka Main (0-9)</label>
                        <div class="grid grid-cols-5 gap-2" id="mainNumberFilter5D1">
                            <button class="main-filter-5d-1 bg-gray-200 hover:bg-blue-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="0">0</button>
                            <button class="main-filter-5d-1 bg-gray-200 hover:bg-blue-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="1">1</button>
                            <button class="main-filter-5d-1 bg-gray-200 hover:bg-blue-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="2">2</button>
                            <button class="main-filter-5d-1 bg-gray-200 hover:bg-blue-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="3">3</button>
                            <button class="main-filter-5d-1 bg-gray-200 hover:bg-blue-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="4">4</button>
                            <button class="main-filter-5d-1 bg-gray-200 hover:bg-blue-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="5">5</button>
                            <button class="main-filter-5d-1 bg-gray-200 hover:bg-blue-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="6">6</button>
                            <button class="main-filter-5d-1 bg-gray-200 hover:bg-blue-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="7">7</button>
                            <button class="main-filter-5d-1 bg-gray-200 hover:bg-blue-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="8">8</button>
                            <button class="main-filter-5d-1 bg-gray-200 hover:bg-blue-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="9">9</button>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Mode Filter Main 1</label>
                        <select id="mainFilterMode5D1" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 text-sm">
                            <option value="none">Tidak Ada Filter</option>
                            <option value="contain">Harus Mengandung</option>
                            <option value="exclude">Tidak Boleh Mengandung</option>
                            <option value="kepala">Sebagai Kepala</option>
                            <option value="ekor">Sebagai Ekor</option>
                        </select>
                    </div>
                    
                    <div class="bg-blue-50 rounded-lg p-2">
                        <span class="text-xs text-blue-700">Aktif: </span>
                        <span class="font-bold text-blue-800 text-xs" id="activeMainNumbers5D1">Belum ada</span>
                    </div>
                </div>
            </div>

            <!-- Filter Angka Main 2 -->
            <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">üéØ Filter Angka Main 2</h3>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Pilih Angka Main (0-9)</label>
                        <div class="grid grid-cols-5 gap-2" id="mainNumberFilter5D2">
                            <button class="main-filter-5d-2 bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="0">0</button>
                            <button class="main-filter-5d-2 bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="1">1</button>
                            <button class="main-filter-5d-2 bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="2">2</button>
                            <button class="main-filter-5d-2 bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="3">3</button>
                            <button class="main-filter-5d-2 bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="4">4</button>
                            <button class="main-filter-5d-2 bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="5">5</button>
                            <button class="main-filter-5d-2 bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="6">6</button>
                            <button class="main-filter-5d-2 bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="7">7</button>
                            <button class="main-filter-5d-2 bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="8">8</button>
                            <button class="main-filter-5d-2 bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="9">9</button>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Mode Filter Main 2</label>
                        <select id="mainFilterMode5D2" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 text-sm">
                            <option value="none">Tidak Ada Filter</option>
                            <option value="contain">Harus Mengandung</option>
                            <option value="exclude">Tidak Boleh Mengandung</option>
                            <option value="kepala">Sebagai Kepala</option>
                            <option value="ekor">Sebagai Ekor</option>
                        </select>
                    </div>
                    
                    <div class="bg-green-50 rounded-lg p-2">
                        <span class="text-xs text-green-700">Aktif: </span>
                        <span class="font-bold text-green-800 text-xs" id="activeMainNumbers5D2">Belum ada</span>
                    </div>
                </div>
            </div>

            <!-- Filter Angka Main 3 -->
            <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">üéØ Filter Angka Main 3</h3>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Pilih Angka Main (0-9)</label>
                        <div class="grid grid-cols-5 gap-2" id="mainNumberFilter5D3">
                            <button class="main-filter-5d-3 bg-gray-200 hover:bg-purple-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="0">0</button>
                            <button class="main-filter-5d-3 bg-gray-200 hover:bg-purple-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="1">1</button>
                            <button class="main-filter-5d-3 bg-gray-200 hover:bg-purple-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="2">2</button>
                            <button class="main-filter-5d-3 bg-gray-200 hover:bg-purple-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="3">3</button>
                            <button class="main-filter-5d-3 bg-gray-200 hover:bg-purple-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="4">4</button>
                            <button class="main-filter-5d-3 bg-gray-200 hover:bg-purple-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="5">5</button>
                            <button class="main-filter-5d-3 bg-gray-200 hover:bg-purple-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="6">6</button>
                            <button class="main-filter-5d-3 bg-gray-200 hover:bg-purple-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="7">7</button>
                            <button class="main-filter-5d-3 bg-gray-200 hover:bg-purple-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="8">8</button>
                            <button class="main-filter-5d-3 bg-gray-200 hover:bg-purple-200 rounded-lg p-2 text-center font-bold transition-colors text-sm" data-main="9">9</button>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Mode Filter Main 3</label>
                        <select id="mainFilterMode5D3" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 text-sm">
                            <option value="none">Tidak Ada Filter</option>
                            <option value="contain">Harus Mengandung</option>
                            <option value="exclude">Tidak Boleh Mengandung</option>
                            <option value="kepala">Sebagai Kepala</option>
                            <option value="ekor">Sebagai Ekor</option>
                        </select>
                    </div>
                    
                    <div class="bg-purple-50 rounded-lg p-2">
                        <span class="text-xs text-purple-700">Aktif: </span>
                        <span class="font-bold text-purple-800 text-xs" id="activeMainNumbers5D3">Belum ada</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Filter Shio Section -->
        <div class="grid grid-cols-1 lg:grid-cols-1 gap-8 mb-8">
            <!-- Filter Shio -->
            <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">üêâ Filter Shio</h3>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Pilih Shio (1-12)</label>
                        <div class="grid grid-cols-3 gap-2" id="shioFilter5D">
                            <button class="shio-filter-5d bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center text-sm font-medium transition-colors" data-shio="1">
                                <div class="font-bold">1</div>
                                <div class="text-xs">Tikus</div>
                            </button>
                            <button class="shio-filter-5d bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center text-sm font-medium transition-colors" data-shio="2">
                                <div class="font-bold">2</div>
                                <div class="text-xs">Kerbau</div>
                            </button>
                            <button class="shio-filter-5d bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center text-sm font-medium transition-colors" data-shio="3">
                                <div class="font-bold">3</div>
                                <div class="text-xs">Macan</div>
                            </button>
                            <button class="shio-filter-5d bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center text-sm font-medium transition-colors" data-shio="4">
                                <div class="font-bold">4</div>
                                <div class="text-xs">Kelinci</div>
                            </button>
                            <button class="shio-filter-5d bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center text-sm font-medium transition-colors" data-shio="5">
                                <div class="font-bold">5</div>
                                <div class="text-xs">Naga</div>
                            </button>
                            <button class="shio-filter-5d bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center text-sm font-medium transition-colors" data-shio="6">
                                <div class="font-bold">6</div>
                                <div class="text-xs">Ular</div>
                            </button>
                            <button class="shio-filter-5d bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center text-sm font-medium transition-colors" data-shio="7">
                                <div class="font-bold">7</div>
                                <div class="text-xs">Kuda</div>
                            </button>
                            <button class="shio-filter-5d bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center text-sm font-medium transition-colors" data-shio="8">
                                <div class="font-bold">8</div>
                                <div class="text-xs">Kambing</div>
                            </button>
                            <button class="shio-filter-5d bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center text-sm font-medium transition-colors" data-shio="9">
                                <div class="font-bold">9</div>
                                <div class="text-xs">Monyet</div>
                            </button>
                            <button class="shio-filter-5d bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center text-sm font-medium transition-colors" data-shio="10">
                                <div class="font-bold">10</div>
                                <div class="text-xs">Ayam</div>
                            </button>
                            <button class="shio-filter-5d bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center text-sm font-medium transition-colors" data-shio="11">
                                <div class="font-bold">11</div>
                                <div class="text-xs">Anjing</div>
                            </button>
                            <button class="shio-filter-5d bg-gray-200 hover:bg-green-200 rounded-lg p-2 text-center text-sm font-medium transition-colors" data-shio="12">
                                <div class="font-bold">12</div>
                                <div class="text-xs">Babi</div>
                            </button>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Mode Filter Shio</label>
                        <select id="shioFilterMode5D" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-purple-500">
                            <option value="none">Tidak Ada Filter</option>
                            <option value="include">Hanya Shio Terpilih</option>
                            <option value="exclude">Kecuali Shio Terpilih</option>
                        </select>
                    </div>
                    
                    <div class="bg-green-50 rounded-lg p-3">
                        <span class="text-sm text-green-700">Shio Aktif: </span>
                        <span class="font-bold text-green-800" id="activeShioNumbers5D">Belum ada</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- Angka 5D Results -->
            <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-gray-800">üé∞ Angka 5D Hasil</h3>
                    <div class="flex space-x-2">
                        <button id="sortBtn5D" class="bg-purple-500 hover:bg-purple-600 text-white px-3 py-1 rounded text-sm transition-colors">
                            üìä Urutkan
                        </button>
                        <button id="shuffleBtn5D" class="bg-pink-500 hover:bg-pink-600 text-white px-3 py-1 rounded text-sm transition-colors">
                            üîÄ Acak
                        </button>
                    </div>
                </div>
                
                <div id="results5D" class="grid grid-cols-2 gap-2 max-h-96 overflow-y-auto">
                    <div class="text-gray-500 text-center py-8 col-span-2">
                        Masukkan ekor ON dan klik Generate
                    </div>
                </div>
                
                <div class="mt-4 text-center">
                    <span class="text-sm text-gray-600">Total Angka: <span id="resultCount5D" class="font-bold">0</span></span>
                </div>
            </div>

            <!-- Analisis & Tools -->
            <div class="space-y-6">
                <!-- Quick Analysis -->
                <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">üìà Analisis Cepat</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Kembar (11111,22222...):</span>
                            <span class="font-bold text-blue-600" id="kembarCount5D">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Besar (50000-99999):</span>
                            <span class="font-bold text-green-600" id="besarCount5D">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Kecil (00000-49999):</span>
                            <span class="font-bold text-orange-600" id="kecilCount5D">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Genap:</span>
                            <span class="font-bold text-purple-600" id="genapCount5D">0</span>
                        </div>
                    </div>
                </div>

                <!-- Export Tools -->
                <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">üõ†Ô∏è Tools</h3>
                    <div class="space-y-3">
                        <button id="copyBtn5D" class="w-full bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg transition-colors">
                            üìã Copy Semua Angka
                        </button>
                        <button id="exportBtn5D" class="w-full bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors">
                            üíæ Export ke File
                        </button>
                        <button id="printBtn5D" class="w-full bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors">
                            üñ®Ô∏è Print Hasil
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Ekor Selector -->
        <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">‚ö° Quick Select Ekor</h3>
            <div class="grid grid-cols-5 md:grid-cols-10 gap-2 mb-4">
                <button class="ekor-quick-5d bg-gray-200 hover:bg-purple-200 rounded-lg p-3 text-center font-bold transition-colors" data-ekor="0">0</button>
                <button class="ekor-quick-5d bg-gray-200 hover:bg-purple-200 rounded-lg p-3 text-center font-bold transition-colors" data-ekor="1">1</button>
                <button class="ekor-quick-5d bg-gray-200 hover:bg-purple-200 rounded-lg p-3 text-center font-bold transition-colors" data-ekor="2">2</button>
                <button class="ekor-quick-5d bg-gray-200 hover:bg-purple-200 rounded-lg p-3 text-center font-bold transition-colors" data-ekor="3">3</button>
                <button class="ekor-quick-5d bg-gray-200 hover:bg-purple-200 rounded-lg p-3 text-center font-bold transition-colors" data-ekor="4">4</button>
                <button class="ekor-quick-5d bg-gray-200 hover:bg-purple-200 rounded-lg p-3 text-center font-bold transition-colors" data-ekor="5">5</button>
                <button class="ekor-quick-5d bg-gray-200 hover:bg-purple-200 rounded-lg p-3 text-center font-bold transition-colors" data-ekor="6">6</button>
                <button class="ekor-quick-5d bg-gray-200 hover:bg-purple-200 rounded-lg p-3 text-center font-bold transition-colors" data-ekor="7">7</button>
                <button class="ekor-quick-5d bg-gray-200 hover:bg-purple-200 rounded-lg p-3 text-center font-bold transition-colors" data-ekor="8">8</button>
                <button class="ekor-quick-5d bg-gray-200 hover:bg-purple-200 rounded-lg p-3 text-center font-bold transition-colors" data-ekor="9">9</button>
            </div>
            <div class="flex space-x-2">
                <button id="selectAllBtn5D" class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-sm transition-colors">
                    ‚úÖ Pilih Semua
                </button>
                <button id="selectEvenBtn5D" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm transition-colors">
                    üî¢ Genap Saja
                </button>
                <button id="selectOddBtn5D" class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm transition-colors">
                    üî¢ Ganjil Saja
                </button>
            </div>
        </div>
    </div>

    <script>
        // Global variables for 5D generator
        let currentEkor5D = new Set();
        let generated5D = [];
        let currentMainNumbers5D1 = new Set();
        let currentMainNumbers5D2 = new Set();
        let currentMainNumbers5D3 = new Set();
        let currentShioNumbers5D = new Set();

        // Parse ekor input
        function parseEkorInput(input) {
            const cleaned = input.replace(/[^0-9,\s]/g, '');
            let ekorArray = [];
            
            // Try different parsing methods
            if (cleaned.includes(',')) {
                ekorArray = cleaned.split(',').map(s => s.trim()).filter(s => s !== '');
            } else if (cleaned.includes(' ')) {
                ekorArray = cleaned.split(/\s+/).filter(s => s !== '');
            } else {
                ekorArray = cleaned.split('').filter(s => s !== '');
            }
            
            // Validate and convert to numbers
            const validEkor = ekorArray
                .map(e => parseInt(e))
                .filter(e => !isNaN(e) && e >= 0 && e <= 9)
                .slice(0, 8); // Maximum 8 digits
            
            return [...new Set(validEkor)]; // Remove duplicates
        }

        // Update ekor preview
        function updateEkorPreview() {
            const preview = document.getElementById('ekorPreview5D');
            const children = preview.children;
            
            for (let i = 0; i < 10; i++) {
                const child = children[i];
                if (currentEkor5D.has(i)) {
                    child.className = 'ekor-active rounded-lg p-3 text-center font-bold animate-bounce-custom';
                } else {
                    child.className = 'bg-gray-100 rounded-lg p-3 text-center text-gray-400';
                }
            }
            
            // Update counters
            document.getElementById('activeCount5D').textContent = currentEkor5D.size;
            document.getElementById('total5D').textContent = currentEkor5D.size * 10000;
            document.getElementById('ekorCount5D').textContent = `${currentEkor5D.size}/8 digit`;
        }

        // Update main numbers display
        function updateMainNumbersDisplay() {
            const activeMainText1 = currentMainNumbers5D1.size > 0 ? 
                Array.from(currentMainNumbers5D1).sort().join(', ') : 'Belum ada';
            document.getElementById('activeMainNumbers5D1').textContent = activeMainText1;
            
            const activeMainText2 = currentMainNumbers5D2.size > 0 ? 
                Array.from(currentMainNumbers5D2).sort().join(', ') : 'Belum ada';
            document.getElementById('activeMainNumbers5D2').textContent = activeMainText2;
            
            const activeMainText3 = currentMainNumbers5D3.size > 0 ? 
                Array.from(currentMainNumbers5D3).sort().join(', ') : 'Belum ada';
            document.getElementById('activeMainNumbers5D3').textContent = activeMainText3;
        }

        // Update shio display
        function updateShioDisplay() {
            const shioNames = {
                1: 'Tikus', 2: 'Kerbau', 3: 'Macan', 4: 'Kelinci',
                5: 'Naga', 6: 'Ular', 7: 'Kuda', 8: 'Kambing',
                9: 'Monyet', 10: 'Ayam', 11: 'Anjing', 12: 'Babi'
            };
            
            const activeShioText = currentShioNumbers5D.size > 0 ? 
                Array.from(currentShioNumbers5D).sort((a, b) => a - b)
                    .map(s => `${s}(${shioNames[s]})`).join(', ') : 'Belum ada';
            document.getElementById('activeShioNumbers5D').textContent = activeShioText;
        }

        // Convert number to Shio (1-12)
        function numberToShio(number) {
            const num = parseInt(number);
            return ((num % 12) === 0) ? 12 : (num % 12);
        }

        // Apply main number filter
        function applyMainFilter(numbers, mainNumbers, mode) {
            if (mode === 'none' || mainNumbers.size === 0) return numbers;
            
            const mains = Array.from(mainNumbers);
            
            return numbers.filter(num => {
                const digits = num.split('');
                const kepala = digits[0];
                const ekor = digits[digits.length - 1];
                
                switch (mode) {
                    case 'contain':
                        return mains.some(main => digits.includes(main));
                    case 'exclude':
                        return !mains.some(main => digits.includes(main));
                    case 'kepala':
                        return mains.includes(kepala);
                    case 'ekor':
                        return mains.includes(ekor);
                    default:
                        return true;
                }
            });
        }

        // Apply shio filter
        function applyShioFilter(numbers, shioNumbers, mode) {
            if (mode === 'none' || shioNumbers.size === 0) return numbers;
            
            const shios = Array.from(shioNumbers);
            
            return numbers.filter(num => {
                const shio = numberToShio(num);
                
                switch (mode) {
                    case 'include':
                        return shios.includes(shio);
                    case 'exclude':
                        return !shios.includes(shio);
                    default:
                        return true;
                }
            });
        }

        // Generate 5D numbers with filters
        function generateNumbers() {
            let numbers = [];
            
            // Generate base numbers from ekor (5D: 00000-99999)
            for (let k1 = 0; k1 <= 9; k1++) {
                for (let k2 = 0; k2 <= 9; k2++) {
                    for (let k3 = 0; k3 <= 9; k3++) {
                        for (let k4 = 0; k4 <= 9; k4++) {
                            for (let ekor of currentEkor5D) {
                                const number = String(k1).padStart(1, '0') + 
                                             String(k2).padStart(1, '0') + 
                                             String(k3).padStart(1, '0') + 
                                             String(k4).padStart(1, '0') + 
                                             String(ekor).padStart(1, '0');
                                numbers.push(number);
                            }
                        }
                    }
                }
            }
            
            // Apply main number filters
            const mainMode1 = document.getElementById('mainFilterMode5D1').value;
            numbers = applyMainFilter(numbers, currentMainNumbers5D1, mainMode1);
            
            const mainMode2 = document.getElementById('mainFilterMode5D2').value;
            numbers = applyMainFilter(numbers, currentMainNumbers5D2, mainMode2);
            
            const mainMode3 = document.getElementById('mainFilterMode5D3').value;
            numbers = applyMainFilter(numbers, currentMainNumbers5D3, mainMode3);
            
            // Apply shio filter
            const shioMode = document.getElementById('shioFilterMode5D').value;
            numbers = applyShioFilter(numbers, currentShioNumbers5D, shioMode);
            
            return numbers.sort((a, b) => parseInt(a) - parseInt(b));
        }

        // Display results
        function displayResults(numbers) {
            const resultsContainer = document.getElementById('results5D');
            
            if (numbers.length === 0) {
                resultsContainer.innerHTML = '<div class="text-gray-500 text-center py-8 col-span-2">Tidak ada angka yang memenuhi filter</div>';
                document.getElementById('resultCount5D').textContent = '0';
                updateAnalysis([]);
                return;
            }
            
            resultsContainer.innerHTML = numbers.map(num => 
                `<div class="number-5d rounded-lg p-3 text-center text-sm transition-all hover:scale-105">${num}</div>`
            ).join('');
            
            document.getElementById('resultCount5D').textContent = numbers.length;
            updateAnalysis(numbers);
        }

        // Update analysis
        function updateAnalysis(numbers) {
            let kembar = 0, besar = 0, kecil = 0, genap = 0;
            
            numbers.forEach(num => {
                const digits = num.split('');
                const allSame = digits.every(d => d === digits[0]);
                if (allSame) kembar++;
                
                const value = parseInt(num);
                if (value >= 50000) besar++;
                else kecil++;
                
                if (value % 2 === 0) genap++;
            });
            
            document.getElementById('kembarCount5D').textContent = kembar;
            document.getElementById('besarCount5D').textContent = besar;
            document.getElementById('kecilCount5D').textContent = kecil;
            document.getElementById('genapCount5D').textContent = genap;
        }

        // Event listeners for ekor input
        document.getElementById('ekorInput5D').addEventListener('input', function() {
            const input = this.value;
            const parsedEkor = parseEkorInput(input);
            currentEkor5D = new Set(parsedEkor);
            updateEkorPreview();
        });

        // Clear button
        document.getElementById('clearBtn5D').addEventListener('click', function() {
            document.getElementById('ekorInput5D').value = '';
            currentEkor5D.clear();
            updateEkorPreview();
        });

        // Sample button
        document.getElementById('sampleBtn5D').addEventListener('click', function() {
            document.getElementById('ekorInput5D').value = '1,3,5,7';
            currentEkor5D = new Set([1, 3, 5, 7]);
            updateEkorPreview();
        });

        // Main number filter buttons
        for (let filterNum = 1; filterNum <= 3; filterNum++) {
            document.querySelectorAll(`.main-filter-5d-${filterNum}`).forEach(btn => {
                btn.addEventListener('click', function() {
                    const main = this.dataset.main;
                    const currentSet = filterNum === 1 ? currentMainNumbers5D1 : 
                                     filterNum === 2 ? currentMainNumbers5D2 : currentMainNumbers5D3;
                    
                    if (currentSet.has(main)) {
                        currentSet.delete(main);
                        this.classList.remove(`main-active-${filterNum}`);
                        this.classList.add('bg-gray-200');
                    } else {
                        currentSet.add(main);
                        this.classList.add(`main-active-${filterNum}`);
                        this.classList.remove('bg-gray-200');
                    }
                    updateMainNumbersDisplay();
                });
            });
        }

        // Shio filter buttons
        document.querySelectorAll('.shio-filter-5d').forEach(btn => {
            btn.addEventListener('click', function() {
                const shio = parseInt(this.dataset.shio);
                
                if (currentShioNumbers5D.has(shio)) {
                    currentShioNumbers5D.delete(shio);
                    this.classList.remove('shio-active');
                    this.classList.add('bg-gray-200');
                } else {
                    currentShioNumbers5D.add(shio);
                    this.classList.add('shio-active');
                    this.classList.remove('bg-gray-200');
                }
                updateShioDisplay();
            });
        });

        // Generate button
        document.getElementById('generateBtn5D').addEventListener('click', function() {
            if (currentEkor5D.size === 0) {
                alert('Silakan masukkan minimal 1 ekor ON terlebih dahulu!');
                return;
            }
            
            this.disabled = true;
            this.innerHTML = '<span class="relative z-10">‚è≥ Generating...</span>';
            
            setTimeout(() => {
                generated5D = generateNumbers();
                displayResults(generated5D);
                
                this.disabled = false;
                this.innerHTML = '<span class="relative z-10">üé∞ Generate Angka 5D</span><div class="absolute inset-0 bg-white opacity-20 pulse-ring rounded-xl"></div>';
            }, 100);
        });

        // Sort and shuffle buttons
        document.getElementById('sortBtn5D').addEventListener('click', function() {
            if (generated5D.length > 0) {
                generated5D.sort((a, b) => parseInt(a) - parseInt(b));
                displayResults(generated5D);
            }
        });

        document.getElementById('shuffleBtn5D').addEventListener('click', function() {
            if (generated5D.length > 0) {
                for (let i = generated5D.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [generated5D[i], generated5D[j]] = [generated5D[j], generated5D[i]];
                }
                displayResults(generated5D);
            }
        });

        // Quick ekor selector
        document.querySelectorAll('.ekor-quick-5d').forEach(btn => {
            btn.addEventListener('click', function() {
                const ekor = parseInt(this.dataset.ekor);
                
                if (currentEkor5D.has(ekor)) {
                    currentEkor5D.delete(ekor);
                    this.classList.remove('ekor-active');
                    this.classList.add('bg-gray-200');
                } else {
                    if (currentEkor5D.size < 8) {
                        currentEkor5D.add(ekor);
                        this.classList.add('ekor-active');
                        this.classList.remove('bg-gray-200');
                    } else {
                        alert('Maksimal 8 ekor ON!');
                    }
                }
                
                // Update input field
                document.getElementById('ekorInput5D').value = Array.from(currentEkor5D).sort().join(',');
                updateEkorPreview();
            });
        });

        // Quick select buttons
        document.getElementById('selectAllBtn5D').addEventListener('click', function() {
            currentEkor5D = new Set([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]);
            document.getElementById('ekorInput5D').value = '0,1,2,3,4,5,6,7,8,9';
            updateEkorPreview();
            
            document.querySelectorAll('.ekor-quick-5d').forEach(btn => {
                btn.classList.add('ekor-active');
                btn.classList.remove('bg-gray-200');
            });
        });

        document.getElementById('selectEvenBtn5D').addEventListener('click', function() {
            currentEkor5D = new Set([0, 2, 4, 6, 8]);
            document.getElementById('ekorInput5D').value = '0,2,4,6,8';
            updateEkorPreview();
            
            document.querySelectorAll('.ekor-quick-5d').forEach(btn => {
                const ekor = parseInt(btn.dataset.ekor);
                if (ekor % 2 === 0) {
                    btn.classList.add('ekor-active');
                    btn.classList.remove('bg-gray-200');
                } else {
                    btn.classList.remove('ekor-active');
                    btn.classList.add('bg-gray-200');
                }
            });
        });

        document.getElementById('selectOddBtn5D').addEventListener('click', function() {
            currentEkor5D = new Set([1, 3, 5, 7, 9]);
            document.getElementById('ekorInput5D').value = '1,3,5,7,9';
            updateEkorPreview();
            
            document.querySelectorAll('.ekor-quick-5d').forEach(btn => {
                const ekor = parseInt(btn.dataset.ekor);
                if (ekor % 2 === 1) {
                    btn.classList.add('ekor-active');
                    btn.classList.remove('bg-gray-200');
                } else {
                    btn.classList.remove('ekor-active');
                    btn.classList.add('bg-gray-200');
                }
            });
        });

        // Copy button
        document.getElementById('copyBtn5D').addEventListener('click', function() {
            if (generated5D.length === 0) {
                alert('Belum ada angka untuk di-copy!');
                return;
            }
            
            const text = generated5D.join('\n');
            navigator.clipboard.writeText(text).then(() => {
                this.innerHTML = '‚úÖ Berhasil Di-copy!';
                setTimeout(() => {
                    this.innerHTML = 'üìã Copy Semua Angka';
                }, 2000);
            }).catch(() => {
                alert('Gagal copy ke clipboard');
            });
        });

        // Export button
        document.getElementById('exportBtn5D').addEventListener('click', function() {
            if (generated5D.length === 0) {
                alert('Belum ada angka untuk di-export!');
                return;
            }
            
            const text = `Generator Angka 5D - Hasil\n\nEkor ON: ${Array.from(currentEkor5D).sort().join(', ')}\nTotal Angka: ${generated5D.length}\n\nAngka 5D:\n${generated5D.join('\n')}`;
            
            const blob = new Blob([text], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `angka-5d-${new Date().toISOString().split('T')[0]}.txt`;
            a.click();
            URL.revokeObjectURL(url);
        });

        // Print button
        document.getElementById('printBtn5D').addEventListener('click', function() {
            if (generated5D.length === 0) {
                alert('Belum ada angka untuk di-print!');
                return;
            }
            
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <html>
                <head>
                    <title>Generator Angka 5D - Hasil</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .info { margin-bottom: 20px; }
                        .numbers { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; }
                        .number { padding: 8px; text-align: center; border: 1px solid #ccc; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>Generator Angka 5D - Hasil</h1>
                        <p>Tanggal: ${new Date().toLocaleDateString('id-ID')}</p>
                    </div>
                    <div class="info">
                        <p><strong>Ekor ON:</strong> ${Array.from(currentEkor5D).sort().join(', ')}</p>
                        <p><strong>Total Angka:</strong> ${generated5D.length}</p>
                    </div>
                    <div class="numbers">
                        ${generated5D.map(num => `<div class="number">${num}</div>`).join('')}
                    </div>
                </body>
                </html>
            `);
            printWindow.document.close();
            printWindow.print();
        });

        // Initialize
        updateEkorPreview();
        updateMainNumbersDisplay();
        updateShioDisplay();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9894b7057796445e',t:'MTc1OTU4MTI4Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
